---
// CtaSection.astro - Premium CTA section with dramatic visual impact
interface Props {
  headline?: string;
  subtext?: string;
  ctaLabel?: string;
  variant?: 'light' | 'dark';
}

const {
  headline = "Ready to get clear answers?",
  subtext = "Stop guessing. Book a 60-minute consultation and leave with an action plan.",
  ctaLabel = "Book a Consultation â€” $150",
  variant = 'dark',
} = Astro.props;

const isDark = variant === 'dark';
---

<section
  id="cta"
  class:list={[
    'relative overflow-hidden',
    isDark ? 'grain' : '',
  ]}
>
  {isDark ? (
    <!-- Dark variant: rich gradient background -->
    <Fragment>
      <div class="absolute inset-0 bg-gradient-to-br from-navy via-navy-mid to-navy-light"></div>
      <div class="absolute inset-0 bg-[radial-gradient(circle_at_center,_rgba(200,148,74,0.1)_0%,_transparent_70%)]"></div>
    </Fragment>
  ) : (
    <!-- Light variant: warm cream with gold accent -->
    <Fragment>
      <div class="absolute inset-0 bg-gradient-to-br from-cream to-background"></div>
      <div class="absolute inset-0 bg-[radial-gradient(circle_at_top_right,_rgba(200,148,74,0.08)_0%,_transparent_60%)]"></div>
      <div class="absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-border to-transparent"></div>
    </Fragment>
  )}

  <div class="relative section-spacing">
    <div class="container-page">
      <div class="max-w-2xl mx-auto text-center">

        <!-- Gold divider -->
        <div class="divider-gold mx-auto mb-8"></div>

        <h2 class:list={[
          'font-heading text-3xl md:text-4xl font-bold mb-5',
          isDark ? 'text-white' : 'text-navy',
        ]}>
          {headline}
        </h2>

        <p class:list={[
          'text-lg mb-10 leading-relaxed',
          isDark ? 'text-white/50' : 'text-text-muted',
        ]}>
          {subtext}
        </p>

        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a
            href="/book"
            class="btn-gold inline-flex items-center justify-center gap-2 text-white font-semibold px-8 py-4 rounded-xl text-base"
          >
            {ctaLabel}
          </a>
          <a
            href="/how-it-works"
            class:list={[
              'inline-flex items-center justify-center gap-2 font-semibold px-8 py-4 rounded-xl border transition-all duration-300 text-base',
              isDark
                ? 'border-white/15 text-white/70 hover:border-white/30 hover:text-white hover:bg-white/[0.04]'
                : 'border-border text-navy hover:border-navy/40 hover:bg-white',
            ]}
          >
            See how it works
          </a>
        </div>

        <!-- Reassurance -->
        <p class:list={[
          'text-sm mt-8',
          isDark ? 'text-white/30' : 'text-text-muted/60',
        ]}>
          No commitment. If we can't help, we'll tell you upfront.
        </p>
      </div>
    </div>
  </div>
</section>
