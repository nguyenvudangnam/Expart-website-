---
// PainPoints.astro - Premium pain points with elevated card design
import { t, getLocaleFromUrl, localizedUrl } from '../i18n/utils';
import type { Locale } from '../i18n/config';

interface Props { locale?: Locale; }
const locale = Astro.props.locale ?? getLocaleFromUrl(Astro.url);

const painPoints = [
  {
    icon: 'üìÑ',
    title: t(locale, 'painPoints.0.title'),
    description: t(locale, 'painPoints.0.desc'),
    accent: 'from-rose-500/20 to-orange-500/20',
  },
  {
    icon: 'üõÇ',
    title: t(locale, 'painPoints.1.title'),
    description: t(locale, 'painPoints.1.desc'),
    accent: 'from-amber-500/20 to-yellow-500/20',
  },
  {
    icon: 'üíº',
    title: t(locale, 'painPoints.2.title'),
    description: t(locale, 'painPoints.2.desc'),
    accent: 'from-blue-500/20 to-cyan-500/20',
  },
  {
    icon: 'üîç',
    title: t(locale, 'painPoints.3.title'),
    description: t(locale, 'painPoints.3.desc'),
    accent: 'from-purple-500/20 to-pink-500/20',
  },
];
---

<section id="pain-points" class="section-spacing bg-background relative">
  <!-- Subtle top border -->
  <div class="absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-border to-transparent"></div>

  <div class="container-page">

    <!-- Section header -->
    <div class="text-center max-w-2xl mx-auto mb-14">
      <div class="divider-gold mx-auto mb-6"></div>
      <h2 class="font-heading text-3xl md:text-4xl font-bold text-navy mb-4">
        {t(locale, 'painPoints.title')}
      </h2>
      <p class="text-text-muted text-lg leading-relaxed">
        {t(locale, 'painPoints.subtitle')}
      </p>
    </div>

    <!-- Pain point grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-5 max-w-4xl mx-auto">
      {painPoints.map((point, i) => (
        <div
          class="card-premium group relative p-6 rounded-2xl border border-border-light bg-surface overflow-hidden"
          style={`animation-delay: ${i * 0.1}s`}
        >
          <!-- Hover gradient accent -->
          <div class={`absolute inset-0 bg-gradient-to-br ${point.accent} opacity-0 group-hover:opacity-100 transition-opacity duration-500`}></div>

          <div class="relative flex gap-4">
            <span class="text-2xl shrink-0 mt-0.5 w-10 h-10 flex items-center justify-center rounded-xl bg-cream" aria-hidden="true">
              {point.icon}
            </span>
            <div>
              <h3 class="font-heading font-semibold text-navy text-base mb-2 leading-snug group-hover:text-navy transition-colors">
                {point.title}
              </h3>
              <p class="text-text-muted text-sm leading-relaxed">
                {point.description}
              </p>
            </div>
          </div>
        </div>
      ))}
    </div>

    <!-- Mid-page CTA -->
    <div class="text-center mt-12">
      <p class="text-text-muted mb-5 text-sm">{t(locale, 'painPoints.ctaText')}</p>
      <a
        href={localizedUrl(locale, '/book')}
        class="inline-flex items-center gap-2 bg-navy text-white font-semibold px-7 py-3.5 rounded-xl hover:bg-navy-light transition-all duration-300 shadow-[0_4px_20px_rgba(15,35,55,0.2)] hover:shadow-[0_8px_30px_rgba(15,35,55,0.3)] hover:-translate-y-0.5"
      >
        {t(locale, 'painPoints.ctaButton')}
      </a>
    </div>
  </div>
</section>
