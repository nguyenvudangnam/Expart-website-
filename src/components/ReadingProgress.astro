---
// ReadingProgress.astro - Premium gold gradient reading progress bar
---

<div
  id="reading-progress"
  class="fixed top-[4.25rem] left-0 right-0 z-30 h-[3px] bg-transparent pointer-events-none"
  aria-hidden="true"
>
  <div
    id="reading-progress-bar"
    class="h-full bg-gradient-to-r from-gold via-gold-bright to-gold transition-[width] duration-100 ease-out shadow-[0_0_8px_rgba(200,148,74,0.4)]"
    style="width: 0%"
  ></div>
</div>

<script>
  const bar = document.getElementById('reading-progress-bar');
  if (bar) {
    const update = () => {
      const scrollTop = window.scrollY;
      const docHeight = document.documentElement.scrollHeight - window.innerHeight;
      const progress = docHeight > 0 ? Math.min((scrollTop / docHeight) * 100, 100) : 0;
      bar.style.width = `${progress}%`;
    };
    window.addEventListener('scroll', update, { passive: true });
    update();
  }
</script>
